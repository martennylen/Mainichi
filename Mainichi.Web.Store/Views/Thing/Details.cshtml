@using Mainichi.Web.Store.Extensions
@model Mainichi.Web.Store.ViewModels.Thing

<section id="all-the-pretty-things" class="clearfix">
    <h1 style="text-transform: uppercase;padding-left:20px">@Model.Name</h1>
    <div>
        @*<div style="padding-left:20px;height:480px;overflow:hidden" class="clearfix">
            <span class="glyphicon glyphicon-chevron-left" data-bind="click: previousSlide"></span>
            <img id="head-honcho" data-bind="attr: {src: '/Content/Snapshots/Products/' + currentImage().FileName}" style="float:left;max-width: 480px" />
            <span class="glyphicon glyphicon-chevron-right" data-bind="click: nextSlide"></span>
        </div>*@
        <div style="position:relative;height:480px;overflow:hidden" class="clearfix">
            <img id="head-honcho" data-bind="attr: {src: '/Content/Snapshots/Products/' + currentImage().FileName}" style="padding-left:40px;max-width: 480px" />
            <span class="glyphicon glyphicon-chevron-left" style="position: absolute; top: 45%; left: 8px;" data-bind="click: previousSlide"></span>
            <span class="glyphicon glyphicon-chevron-right" style="position: absolute; top: 45%; right: 0;" data-bind="click: nextSlide"></span>
        </div>
        <span style="display:block; font-style: italic; text-align: center" data-bind="text: currentImage().Text"></span>
        <ul data-bind="foreach: slides" style="list-style-type: none;display:inline-block;margin-top: 20px">
            <li style="display:inline-block;margin-right: 10px" class="thing-thumb" data-bind="click: $parent.setSlide">
                <img style="max-width:80px;min-height:68px;vertical-align: bottom" data-bind="attr: { src: '/Content/Snapshots/Products/' + $data.FileName }" />
            </li>
        </ul>
    </div>
    <span style="float:left">@Model.Description</span>
</section>

<script>
    var Mainichi = Mainichi || {};
    Mainichi.ViewModels = Mainichi.ViewModels || {};
    Mainichi.ViewModels.Details = Mainichi.ViewModels.Details || {};
    Mainichi.ViewModels.Details.Models = Mainichi.ViewModels.Details.Models || {};
    
    Mainichi.ViewModels.Details.Models.Slides = @Html.RenderAsJson(Model.Slides) || [];
</script>

@section scripts {
    @Styles.Render("~/Content/Styles/Elements/DetailsView.less")
    @Scripts.Render("~/Scripts/Shop/details.js")
    @*@Scripts.Render("~/Scripts/BindingHandlers/arrows.js")*@
}